"use client";

import { motion, useScroll, useTransform } from "framer-motion";
import { useRef } from "react";
import { ChevronDown } from "lucide-react";

const Hero = () => {
  const ref = useRef<HTMLDivElement>(null);

  const { scrollYProgress } = useScroll({
    target: ref,
    offset: ["start start", "end start"],
  });

  const y = useTransform(scrollYProgress, [0, 0.6], ["0%", "20%"]);
  const opacity = useTransform(scrollYProgress, [0, 0.5], [1, 0]);
  const background = useTransform(
    scrollYProgress,
    [0, 0.8],
    ["#000000", "#ffffff"]
  );

  const scrollToNext = () => {
    const aboutSection = document.getElementById("about");
    if (aboutSection) aboutSection.scrollIntoView({ behavior: "smooth" });
  };

  const scrollToSection = (id: string) => {
    const el = document.getElementById(id);
    if (el) el.scrollIntoView({ behavior: "smooth" });
  };

  return (
    <>
      <motion.div
        className="absolute left-4 z-50 sm:left-16 top-6 cursor-pointer"
        whileHover={{ scale: 1.05 }}
        onClick={() => scrollToSection("hero")}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 267 209"
          width={70}
          height={54}
        >
          <path
            d="M0 0 C4.91619094 4.34694778 6.58629013 11.31975621 7.25 17.625 C6.875 20.0625 6.875 20.0625 4.875 22.0625 C2.87890625 22.08203125 2.87890625 22.08203125 0.875 21.0625 C-0.28515625 18.26171875 -0.28515625 18.26171875 -1.1875 14.75 C-2.681382 8.89785895 -2.681382 8.89785895 -6.125 4.0625 C-9.88701117 3.39369801 -11.73438805 3.85905628 -15.125 5.625 C-25.97119953 14.43753712 -31.13569025 26.87931729 -32.69140625 40.58984375 C-33.26059309 46.76580846 -33.30891919 52.9266158 -33.3125 59.125 C-33.33086914 60.80432617 -33.33086914 60.80432617 -33.34960938 62.51757812 C-33.36506454 71.30126489 -32.09029026 78.80204856 -29.125 87.0625 C-26.70232914 87.11417527 -26.70232914 87.11417527 -24.125 86.0625 C-21.48622503 80.91252442 -20.18249897 75.70065508 -19 70.0625 C-18.83113281 69.29421875 -18.66226563 68.5259375 -18.48828125 67.734375 C-16.52242752 58.632627 -15.87915314 49.83146727 -15.78320312 40.53710938 C-15.57246656 33.67101791 -15.57246656 33.67101791 -13.21484375 30.46484375 C-8.34628423 27.19790381 -1.80530794 27.41721702 3.875 28.0625 C7.71650278 29.84605486 9.3970919 30.86192757 10.97094727 34.81567383 C11.86424892 38.02388845 12.41470204 41.08560382 12.83984375 44.38671875 C13.00033203 45.58103516 13.16082031 46.77535156 13.32617188 48.00585938 C13.64783103 50.48224733 13.96816523 52.95880778 14.28710938 55.43554688 C15.5336302 64.6876118 17.2996974 73.4145623 20.875 82.0625 C21.535 82.0625 22.195 82.0625 22.875 82.0625 C24.63212452 76.24356558 26.37715658 70.42113383 28.11425781 64.59619141 C28.73983547 62.51267249 29.37968153 60.43344294 30.0234375 58.35546875 C32.38997394 50.52696622 34.00495359 42.65886912 35.39306641 34.60766602 C37.51451217 22.6389293 37.51451217 22.6389293 39.875 18.0625 C40.865 17.7325 41.855 17.4025 42.875 17.0625 C43.17975369 25.49966238 42.39824391 33.19502172 40.625 41.4375 C40.39611084 42.53312256 40.16722168 43.62874512 39.93139648 44.75756836 C31.81447602 82.89380664 31.81447602 82.89380664 20.4375 94.5625 C17.08816217 96.523088 15.71443545 96.80085297 11.875 96.0625 C0.71220857 91.49778975 -3.73748637 79.58935815 -8.125 69.1875 C-8.80145244 67.48301787 -9.47217336 65.77616992 -10.125 64.0625 C-10.27533691 64.59617187 -10.42567383 65.12984375 -10.58056641 65.6796875 C-16.4349913 86.1414114 -16.4349913 86.1414114 -24.4375 93.0625 C-30.45574768 95.30184797 -36.45559561 94.52795902 -42.28125 92.03125 C-49.17821677 88.40742 -53.55565364 82.74898694 -55.99609375 75.46118164 C-57.99017065 67.88717647 -58.55348459 60.87522174 -58.4375 53.0625 C-58.44072266 51.97710937 -58.44394531 50.89171875 -58.44726562 49.7734375 C-58.32994781 31.89846808 -53.97069308 15.56454186 -41 2.6875 C-30.46893372 -6.12349212 -11.59962212 -7.19176571 0 0 Z "
            fill="#F5F5F5"
            transform="translate(83.125,68.9375)"
          />
          <path
            d="M0 0 C3.6397462 2.1042951 5.66214832 3.49322248 8 7 C9.02462191 11.97193584 8.87526091 16.30519771 6.52734375 20.8515625 C1.46034591 28.00378609 -4.67048739 35.11365826 -12 40 C-12.99 40 -13.98 40 -15 40 C-14.61375277 31.61843511 -12.4744657 23.98734511 -10 16 C-17.49530515 17.07075788 -21.40779701 20.01879734 -26 26 C-30.5736343 33.17184782 -32.42222947 38.56596627 -32 47 C-31.40574219 47.12528076 -30.81148437 47.25056152 -30.19921875 47.37963867 C-27.46242564 47.96620835 -24.73147338 48.57665649 -22 49.1875 C-21.06542969 49.38408203 -20.13085938 49.58066406 -19.16796875 49.78320312 C-12.0392939 51.4033565 -6.19059983 53.70135197 -1.0390625 59.02734375 C1.03363086 62.9623443 0.83584689 66.70651312 0 71 C-6.77367642 85.58638285 -21.79717149 97.20467259 -36.46875 103.2890625 C-42.16180238 104.88803709 -46.33399568 103.90872963 -51.4375 101.125 C-54 99 -54 99 -56 96 C-56 95.01 -56 94.02 -56 93 C-54.741875 92.649375 -53.48375 92.29875 -52.1875 91.9375 C-43.16321565 88.86839861 -36.02405607 83.28878979 -29.0625 76.9375 C-28.24700684 76.19608765 -28.24700684 76.19608765 -27.41503906 75.43969727 C-24.00958939 72.23528583 -21.45485929 68.98101278 -19 65 C-20.26714844 64.84144531 -21.53429687 64.68289062 -22.83984375 64.51953125 C-34.7631992 62.91507854 -43.89162006 61.38591253 -51.90625 51.74609375 C-55.27511006 46.3679493 -54.72509388 38.66848347 -53.5390625 32.66796875 C-49.21313717 18.54509489 -40.17422714 6.25927858 -28 -2 C-20.35238301 -5.82380849 -7.79702101 -2.34523191 0 0 Z "
            fill="#F5F5F5"
            transform="translate(188,42)"
          />
          <path
            d="M0 0 C3.5 1.8125 3.5 1.8125 6 4 C6.53625 4.42023438 7.0725 4.84046875 7.625 5.2734375 C10.15272612 8.44745723 9.51521516 12.15024033 9.42578125 16.04296875 C8.78617646 20.4849947 7.32881108 22.05825998 4 25 C-0.67580872 28.11720581 -5.54118637 27.97221615 -11 27 C-14.33394661 24.60879859 -16.18897578 21.62204844 -18 18 C-18.67513222 13.37380989 -19.01050387 8.96057893 -16.82421875 4.71875 C-12.1289695 -0.74970258 -6.87660795 -1.32761058 0 0 Z "
            fill="#F5F5F5"
            transform="translate(234,104)"
          />
          <path
            d="M0 0 C0.66 0 1.32 0 2 0 C2.30475971 8.43732907 1.52269848 16.13230441 -0.25 24.375 C-0.47743896 25.46699707 -0.70487793 26.55899414 -0.93920898 27.68408203 C-3.43711185 39.447045 -6.68888234 50.76357631 -11 62 C-12.65 61.67 -14.3 61.34 -16 61 C-15.41992504 58.62416105 -14.83674064 56.2491964 -14.25 53.875 C-14.06953125 53.14434326 -13.8890625 52.41368652 -13.703125 51.66088867 C-12.58125868 47.17196262 -11.34306965 42.74143207 -10 38.3125 C-7.99648247 31.47696959 -6.6913122 24.56276512 -5.48242188 17.54614258 C-2.88129112 2.88129112 -2.88129112 2.88129112 0 0 Z "
            fill="#F5F5F5"
            transform="translate(124,86)"
          />
        </svg>
      </motion.div>

      <motion.section
        id="hero"
        ref={ref}
        className="text-white overflow-hidden"
        style={{ background }}
      >
        <div className="min-h-[97vh] md:min-h-[100vh] flex items-center justify-center px-4 sm:px-6 relative">
          <motion.div
            className="text-center max-w-2xl sm:max-w-4xl mx-auto"
            style={{ y, opacity }}
          >
            <div className="space-y-6">
              <motion.h1
                className="text-3xl sm:text-5xl lg:text-6xl font-black bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent leading-tight"
                initial={{ opacity: 0, y: 40 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.6, ease: "easeOut" }}
              >
                <div className="block">TURNING VISION INTO</div>
                <div className="block">
                  <span className="rgb-animated">INTERACTIVE</span> EXPERIENCES
                </div>
              </motion.h1>

              <motion.p
                className="text-base sm:text-lg text-gray-400 max-w-xl mx-auto font-medium leading-relaxed"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.6, delay: 0.2 }}
              >
                Innovative web developer crafting{" "}
                <br className="hidden sm:block" /> unique user experiences
              </motion.p>
            </div>
          </motion.div>

          <motion.div
            className="absolute bottom-6 sm:bottom-10 left-1/2 -translate-x-1/2 cursor-pointer"
            onClick={scrollToNext}
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 0.6, delay: 0.6 }}
          >
            <motion.div
              animate={{ y: [0, 10, 0] }}
              transition={{ duration: 2, repeat: Infinity, ease: "easeInOut" }}
              className="flex flex-col items-center gap-1"
            >
              <span className="text-xs font-bold text-gray-300 uppercase tracking-widest">
                Scroll
              </span>
              <ChevronDown size={20} />
            </motion.div>
          </motion.div>
        </div>
      </motion.section>
    </>
  );
};

export default Hero;
